!function(){"use strict";var a=function(a){var b=this;this.init(),a&&81===a.length&&a.forEach(function(a,c){var d=Math.floor(c/9),e=c%9;a&&b.addValue(a,d,e)})};a.prototype.init=function(){this.finished=!1,this.stuck=!1,this.lines=[[],[],[],[],[],[],[],[],[]],this.columns=[[],[],[],[],[],[],[],[],[]],this.blocks=[[],[],[],[],[],[],[],[],[]],this.grid=[];for(var a=0;81>a;a++){var b=Math.floor(a/9),c=a%9,d=3*Math.floor(b/3)+Math.floor(c/3),e={value:null,candidates:[1,2,3,4,5,6,7,8,9],revocated:[],line:b,column:c,block:d,index:a};this.lines[b].push(e),this.columns[c].push(e),this.blocks[d].push(e),this.grid[a]=e}return this},a.prototype.isFinished=function(){return this.finished},a.prototype.isStuck=function(){return this.stuck},a.prototype.getValue=function(a,b){return this.lines[a][b].value},a.prototype.getCandidates=function(a,b){return this.lines[a][b].candidates},a.prototype.addValue=function(a,b,c){var d=this.lines[b][c].block,e=!1;return this.grid.map(function(f){if(f.line===b&&f.column===c&&(f.value=a,f.candidates=[]),f.line===b||f.column===c||f.block===d){var g=f.candidates.indexOf(a);-1!=g&&f.candidates.splice(g,1),-1!=f.revocated.indexOf(a)&&f.revocated.push(a)}f.value||(e=!0)}),this.finished=!e,this},a.prototype.findLonelyCandidate=function(){var a=this,b=0;return this.grid.map(function(c){c.value||1!==c.candidates.length||(a.addValue(c.candidates[0],c.line,c.column),b++)}),b},window.Sudoku=a}();